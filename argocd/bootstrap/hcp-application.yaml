apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: hcp
  namespace: argocd
spec:
  project: default
  sources:
    - repoURL: 'https://github.com/nhsy-hcp/terraform-aws-eks-argocd.git'
      path: argocd/hcp
      targetRevision: argocd
  destination:
    server: 'https://kubernetes.default.svc'
    namespace: argocd
  syncPolicy:
    automated: {}
#  syncPolicy:
#    automated:
#      prune: true
#      selfHeal: true
